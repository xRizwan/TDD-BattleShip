(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(e,a,t){e.exports=t(16)},15:function(e,a,t){},16:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(8),s=t.n(o);t(15),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(6),l=t(1),c=t(2),p=t(4),u=t(3),h=t(5),d=function(e){Object(p.a)(t,e);var a=Object(u.a)(t);function t(e){var r;return Object(l.a)(this,t),(r=a.call(this,e)).changeRow=function(e){e.target.parentElement.dataset.row=e.target.dataset.x},r.changeColumn=function(e){e.target.parentElement.dataset.column=e.target.dataset.y},r.changeCoords=function(e){r.changeRow(e),r.changeColumn(e)},r.gamePlayer=function(e){var a=e.target.dataset.x,t=e.target.dataset.y;r.props.playGame(a,t)},r.drop=r.drop.bind(Object(h.a)(r)),r}return Object(c.a)(t,[{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"drop",value:function(e){e.preventDefault();var a=e.dataTransfer.getData("ShipSize"),t=e.dataTransfer.getData("CurrentY"),r=e.target.dataset.x,n=e.target.dataset.y-t+1;return this.props.changeBoard(a,r,n)?void this.props.changeShips():void 0}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"grid",id:this.props.class},this.props.board.map((function(a,t){return n.a.createElement("div",{key:t,onDragOver:e.allowDrop,onDrop:e.drop,className:"grid-row","data-row":0,"data-column":0},a.map((function(a,r){return n.a.createElement("span",{key:r,"data-x":t,"data-y":r,className:"grid-row-item \n                                        ".concat(a.match("ship")&&"computer"!==e.props.class?"hasShip":null,"\n                                        ").concat(a.match("ship")&&"computer"===e.props.class?"cShip":"","\n                                        ").concat(a.match("x")?"ship":"","\n                                        ").concat(a.match(".")?"noShip":"","\n                                        "),onMouseOver:e.props.playable?null:e.changeCoords,onClick:"computer"===e.props.class?e.gamePlayer:null},a.match("ship")?" ":a)})))})))}}]),t}(n.a.Component),m=t(9);var y=function(e,a,t,r){for(var n=e,o=[t,r],s=new Array(e),i=0;i<s.length;i++){var l=a+i+"";s[i]=l}return{hit:function(e){if(e>s.length-1||void 0===e)throw Error("No Such Spot Exists");return s[e]="x",s.reduce((function(e,a){return"x"===a?e+1:e}),0)},isSunk:function(){return s.reduce((function(e,a){return"x"===a?e+1:e}),0)===n},length:s,size:n,coords:o}};var f=function(){var e=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]],a=0,t={};return{board:e,addShip:function(r,n,o){for(var s=0;s<r;s++)if(""!==e[n][o+s])return!1;var i=y(r,"ship"+a,n,o);t["ship"+a]=i;for(var l=0;l<r;l++)e[n][o+l]=t["ship"+a].length[l];return a++,!0},recieveAttack:function(a,r){if(void 0!==e[a]&&void 0!==e[a][r]){if(""!==e[a][r]&&"x"!==e[a][r]&&"."!==e[a][r]){var n=e[a][r].substr(0,e[a][r].length-1),o=e[a][r].substr(e[a][r].length-1,e[a][r].length-1);t[n].hit(o);for(var s=Object(m.a)(t[n].coords,2),i=s[0],l=s[1],c=t[n].length.length,p=0,u=l;p<c;p++)e[i][u+p]=t[n].length[p];return t[n].isSunk()&&delete t[n],!0}return""===e[a][r]&&(e[a][r]=".",!0)}return!1},containsShips:function(){return!function(e){for(var a in e)if(e.hasOwnProperty(a))return!1;return!0}(t)}}};var v=function(e){var a=e,t=f(),r=function e(a){var r=Math.floor(10*Math.random()),n=Math.floor(10*Math.random());if(!1===t.addShip(a,r,n))return e(a)};return{name:a,playerBoard:t,enemy:void 0,playTurn:function(e,a,t){var r=!e.playerBoard.containsShips();return!!r||!!e.playerBoard.recieveAttack(a,t)&&(r=!e.playerBoard.containsShips(),!0)},autoTurn:function e(a){var t=!a.playerBoard.containsShips();if(t)return console.log("Won Already"),!0;var r=Math.floor(10*Math.random()),n=Math.floor(10*Math.random()),o=a.playerBoard.board[r][n];if("."===o||"x"===o)return e(a);a.playerBoard.recieveAttack(r,n),t=!a.playerBoard.containsShips()},autoShipsAdd:function(){for(var e=0,a=[1,2,3,3,4,5];e<a.length;e++){r(a[e])}}}},g=[[[1,2,3,4,5],"carrier"],[[1,2,3,4],"battleship"],[[1,2,3],"cruiser"],[[1,2,3],"submarine"],[[1,2],"destroyer"],[[1],"smallShip"]],b=function(e){Object(p.a)(t,e);var a=Object(u.a)(t);function t(e){var r;return Object(l.a)(this,t),(r=a.call(this,e)).handleDrag=function(e){e.dataTransfer.setData("ShipSize",e.target.dataset.size),e.dataTransfer.setData("CurrentY",e.target.dataset.current),r.props.changeName(e.target.dataset.name)},r.changeData=function(e){e.target.parentElement.dataset.current=e.target.dataset.spot},r}return Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.shipsData.map((function(a,t){return n.a.createElement("div",{key:t,className:"Ships",draggable:!0,onDragStart:e.handleDrag,"data-size":a[0].length,"data-name":"".concat(a[1]),"data-current":0},a[0].map((function(a,t){return n.a.createElement("span",{key:t,"data-spot":a,className:"ship-item",onMouseOver:e.changeData})})))}))}}]),t}(n.a.Component);function S(e){return n.a.createElement("div",{className:"Header"},n.a.createElement("h3",{className:"heading"},"BattleShips!"))}function E(e){return n.a.createElement("div",{className:"main-buttons"},n.a.createElement("button",{className:"button",onClick:e.play},"PlayGame"),n.a.createElement("button",{className:"button",onClick:e.restart},"Restart"))}function w(e){return n.a.createElement("div",{className:"Winner"},""===e.winner?"none":"computer"===e.winner?"You Lost!":"You Are The Winner")}var B=function(e){Object(p.a)(t,e);var a=Object(u.a)(t);function t(e){var r;Object(l.a)(this,t),(r=a.call(this,e)).refreshState=function(){var e=v("Player1"),a=v("Computer");a.autoShipsAdd(),e.enemy=a,a.enemy=e,r.setState({player1:e,computer:a,allShips:g,shipName:"",playable:!1,won:!1,winner:""})},r.forcePlayable=function(e){r.setState({allShips:[],playable:!0})},r.playGame=function(e,a){if(r.state.playable){var t="";if(""===r.state.winner){var n=r.state.player1.playTurn(r.state.player1.enemy,e,a),o=r.state.player1.enemy.playerBoard.board;if(!1!==n&&(r.state.player1.enemy.playerBoard.containsShips()||(r.setState({winner:"player1",playable:!1}),t="player1"),r.setState(Object(i.a)({},r.state.computer.playerBoard.board,o)),""===t)){r.state.computer.autoTurn(r.state.computer.enemy);var s=r.state.computer.playerBoard.board;r.state.computer.enemy.playerBoard.containsShips()||(r.setState({winner:"computer",playable:!1}),t="computer"),r.setState(Object(i.a)({},r.state.player1.playerBoard.board,s))}}}},r.changeBoard=function(e,a,t){var n=r.state.player1.playerBoard.addShip(Number(e),a,t),o=r.state.player1.playerBoard.board;return!!n&&(r.setState(Object(i.a)({},r.state.player1.playerBoard.board,o)),!0)},r.changeShipName=function(e){r.setState({shipName:e})},r.changeShips=function(){var e=r.state.shipName;r.setState({allShips:r.state.allShips.filter((function(a){return a[1]!==e})),playable:0===r.state.allShips.filter((function(a){return a[1]!==e})).length})};var n=v("Player1"),o=v("Computer");return o.autoShipsAdd(),n.enemy=o,o.enemy=n,r.state={player1:n,computer:o,allShips:g,shipName:"",playable:!1,won:!1,winner:""},r}return Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(S,null),n.a.createElement(E,{play:this.forcePlayable,restart:this.refreshState}),""!==this.state.winner?n.a.createElement(w,{winner:this.state.winner}):null,n.a.createElement("div",{className:"GameContainer"},n.a.createElement("div",{className:"ShipsContainer"},n.a.createElement(b,{changeName:this.changeShipName,shipsData:this.state.allShips})),n.a.createElement("div",{className:"Boards"},n.a.createElement(d,{class:"player",changeBoard:this.changeBoard,changeShips:this.changeShips,board:this.state.player1.playerBoard.board,playable:0===this.state.allShips.length,playGame:this.playGame}),n.a.createElement(d,{class:"computer",board:this.state.computer.playerBoard.board,playGame:this.playGame})),n.a.createElement("div",{className:"board-name"},n.a.createElement("h4",{className:"player-board"},"^Player^"),n.a.createElement("h4",{className:"computer-board"},"^Computer^"))))}}]),t}(n.a.Component);s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.2708fe23.chunk.js.map